{% load tz %}

<div class="max-w-sm w-full mx-auto rounded-md shadow-lg border border-gray-200 p-4 md:p-8 dark:border-gray-600">
  <div>
    <select name="timezone" class="rounded-md block w-full pl-3 pr-10 py-2 text-base text-gray-700 border-gray-300 bg-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:text-gray-300 dark:border-gray-700 dark:bg-neutral-900 dark:focus:border-primary-500">
      <option selected>{{ user_tz }}</option>
    </select>
  </div>
  <div class="pt-6 text-gray-500 dark:text-gray-400">
    {{ event }}<br />
    <div id="availableTimes">
      {% for available_time in available_times %}
        <a class="block" href="#">{{ available_time }}</a>
      {% endfor %}
    </div>
  </div>
</div>
<div class="pt-3 flex justify-between items-center">
  <button type="button" class="btn btn-neutral" hx-get="{% url 'scheduler:calendar' event=event %}" hx-trigger="click" hx-target="#bookingForm" hx-swap="innerHTML">
    Back
  </button>
  <button type="button" class="inline-flex items-center py-2 px-4 "
</div>

{% block extrascripts %}
  <script>
    const times = document.getElementById("availableTimes").children;
    for (const link of times) {
      const utcDate = new Date(link.innerText);
      link.innerText = utcDate.toLocaleString();
    }
  </script>
{% endblock %}
